---
title: "[Go/LeetCode] 28. Find the Index of the First Occurrence in a String"
emoji: "ğŸ”–"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["go", "leetcode"]
published: true
publication_name: "progate_users"
---

# æ¦‚è¦
â†“ã®è§£æ³•ãƒ¡ãƒ¢ã§ã™ã€‚
https://leetcode.com/problems/find-the-index-of-the-first-occurrence-in-a-string/description/

## å•é¡Œæ¦‚è¦
å…¨ä½“æ–‡å­—åˆ— `haystack` ã¨æ¤œç´¢æ–‡å­—åˆ— `needle` ãŒæ¸¡ã•ã‚Œã‚‹ã®ã§ã€æ–‡å­—åˆ—ã®ä¸­ã«æ¤œç´¢æ–‡å­—åˆ—ãŒã‚ã‚Œã°ãã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã€ãªã‘ã‚Œã° `-1` ã‚’è¿”ã—ã¾ã™ã€‚
ãŸã¨ãˆã° `helloworld` ã«å¯¾ã—ã¦ `low` ãŒæ¸¡ã•ã‚ŒãŸå ´åˆã¯ `4` ã‚’è¿”ã—ã¾ã™ã€‚

# è§£æ³•
## åˆè¦‹
Go ã§ã¯ `strings.Index` ãŒã“ã‚Œã«ã‚ãŸã‚‹ã®ã§ã“ã‚Œã‚’ä½¿ãˆã°ã‚ˆã„ã®ã§ã™ãŒã€ãªã‚“ã‹æ‚”ã—ã„ã®ã§ç‹¬è‡ªã«å®Ÿè£…ã—ã¾ã—ãŸã€‚
ã‚ã¡ã‚ƒãã¡ã‚ƒé…ã‹ã£ãŸã§ã™ã€‚

```go
func safeSlice(s string, start int, end int) string {
    fmt.Println(start, end)
    if end > len(s) {
        end = len(s)
    }      
    fmt.Println(start, end, s[start:end]) 
    return s[start:end]
}
func strStr(haystack string, needle string) int {
    for i:=0;i<len(haystack);i++ {
        if needle == safeSlice(haystack, i, i+len(needle)) {
            return i
        }
    }
    return -1
}
```

## æœ€é©ãªã‚³ãƒ¼ãƒ‰
`strings.Index` ã‚’ä½¿ãŠã†ã€‚

```go
func strStr(haystack string, needle string) int {
    return strings.Index(haystack, needle)
}
```

ä¸€å¿œå†…éƒ¨å®Ÿè£…ã‚’è¦‹ã¦ã¿ã¾ã—ãŸãŒã€ã‚±ãƒ¼ã‚¹ã«å¿œã˜ã¦ç´°ã‹ã„æœ€é©åŒ–ãŒã•ã‚Œã¦ã¦ãŠã‚‚ã—ã‚ã‹ã£ãŸã§ã™ã€‚
https://cs.opensource.google/go/go/+/refs/tags/go1.24.5:src/internal/stringslite/strings.go;l=28